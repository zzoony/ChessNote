# ChessNote 확장 개발 계획

## 프로젝트 목표
기존 ChessNote 체스 기보 앱을 다양한 게임 모드를 포함한 완전한 체스 앱으로 확장

## 기술 스택
- React Native 0.79.5 + Expo SDK 53
- TypeScript 5.8.3
- 상태 관리: React Context API
- 체스 엔진: chessops 0.14.0
- UI: react-native-paper 5.12.3

---

## Phase 1: 기본 구조 및 네비게이션 시스템 (2-3일)

### 1.1 프로젝트 구조 리팩토링
- [ ] 기존 코드를 모듈화하여 재사용 가능하게 구성
- [ ] 화면별 폴더 구조 정리 (`/screens`, `/components/shared`)
- [ ] 타입 정의 확장 (`/types/modes.ts`, `/types/navigation.ts`)

### 1.2 네비게이션 시스템 구현
- [ ] React Navigation 설치 및 설정
- [ ] Stack Navigator 구성
- [ ] 화면 전환 애니메이션 설정
- [ ] 백 버튼 핸들링

### 1.3 메인 메뉴 화면
- [ ] MainMenuScreen 컴포넌트 완성
- [ ] 모드 선택 카드 UI 구현
- [ ] 설정 아이콘 추가
- [ ] 버전 정보 표시

### 1.4 기존 기보 모드 통합
- [ ] NotationModeScreen으로 리팩토링
- [ ] 메뉴 복귀 기능 추가
- [ ] 상태 관리 Context 분리
- [ ] 세션 저장/복원 기능

---

## Phase 2: PGN 리뷰 모드 (3-4일)

### 2.1 PGN 파서 구현
- [ ] PGN 파일 읽기 기능
- [ ] 클립보드에서 PGN 붙여넣기
- [ ] PGN 유효성 검증
- [ ] 헤더 정보 파싱

### 2.2 리뷰 인터페이스
- [ ] ReviewModeScreen 구현
- [ ] 이동 네비게이션 컨트롤 (◀ ▶ ⏮ ⏭)
- [ ] 현재 수 하이라이트
- [ ] 기보 목록 스크롤 동기화

### 2.3 고급 기능
- [ ] 키보드 단축키 지원 (← →)
- [ ] 특정 수로 점프 기능
- [ ] 변화수(variations) 지원
- [ ] 주석 표시 기능

### 2.4 파일 관리
- [ ] PGN 파일 목록 화면
- [ ] 파일 저장/로드
- [ ] 최근 열어본 파일 목록
- [ ] 파일 삭제/이름 변경

---

## Phase 3: 퍼즐 모드 (4-5일)

### 3.1 퍼즐 데이터 구조
- [ ] 퍼즐 데이터 모델 정의
- [ ] 내장 퍼즐 데이터베이스 구축 (50-100개)
- [ ] 퍼즐 난이도 시스템
- [ ] 테마별 분류 (tactics, endgame, opening)

### 3.2 퍼즐 플레이 화면
- [ ] PuzzleModeScreen 구현
- [ ] 퍼즐 보드 상태 관리
- [ ] 정답 확인 로직
- [ ] 힌트 시스템 (1-3단계)

### 3.3 피드백 시스템
- [ ] 정답/오답 애니메이션
- [ ] 점수 시스템
- [ ] 연속 정답 스트릭
- [ ] 실패 시 재시도 옵션

### 3.4 진행 상황 추적
- [ ] AsyncStorage를 이용한 진행 상황 저장
- [ ] 퍼즐별 완료 상태
- [ ] 통계 화면 (정답률, 평균 시간)
- [ ] 일일 퍼즐 기능

---

## Phase 4: AI 대전 모드 (5-7일)

### 4.1 Stockfish 엔진 통합
- [ ] Stockfish.js 또는 React Native 바인딩 조사
- [ ] 엔진 초기화 및 UCI 프로토콜 구현
- [ ] iOS/Android 플랫폼별 처리
- [ ] 엔진 성능 최적화

### 4.2 AI 게임 인터페이스
- [ ] AIModeScreen 구현
- [ ] AI 난이도 선택 화면
- [ ] 사고 시간 설정
- [ ] AI 이동 애니메이션

### 4.3 게임 플레이 기능
- [ ] 플레이어 색상 선택 (백/흑/랜덤)
- [ ] AI 사고 과정 표시
- [ ] 평가 바 구현
- [ ] 최선수 힌트 기능

### 4.4 게임 관리
- [ ] 게임 일시정지/재개
- [ ] 게임 저장/불러오기
- [ ] 대전 기록 저장
- [ ] 승률 통계

---

## Phase 5: UI/UX 통합 및 최적화 (3-4일)

### 5.1 통합 디자인 시스템
- [ ] 일관된 색상 팔레트 정의
- [ ] 공통 컴포넌트 스타일 가이드
- [ ] 다크/라이트 테마 구현
- [ ] 반응형 레이아웃 최적화

### 5.2 설정 화면
- [ ] SettingsScreen 구현
- [ ] 보드 테마 선택
- [ ] 기물 스타일 선택
- [ ] 사운드 효과 on/off
- [ ] 언어 설정

### 5.3 성능 최적화
- [ ] 컴포넌트 메모이제이션
- [ ] 이미지 최적화
- [ ] 번들 크기 최적화
- [ ] 메모리 사용량 프로파일링

### 5.4 사용자 경험 개선
- [ ] 로딩 상태 인디케이터
- [ ] 에러 핸들링 및 사용자 피드백
- [ ] 튜토리얼/온보딩 화면
- [ ] 앱 아이콘 및 스플래시 화면 업데이트

---

## Phase 6: 테스트 및 배포 준비 (2-3일)

### 6.1 테스트
- [ ] 단위 테스트 작성
- [ ] 통합 테스트
- [ ] iOS 실기기 테스트
- [ ] Android 에뮬레이터/실기기 테스트

### 6.2 버그 수정
- [ ] 발견된 버그 목록 작성
- [ ] 우선순위별 버그 수정
- [ ] 회귀 테스트

### 6.3 문서화
- [ ] README 업데이트
- [ ] 사용자 매뉴얼 작성
- [ ] API 문서화
- [ ] 릴리즈 노트 작성

### 6.4 배포
- [ ] 버전 번호 업데이트 (1.2.0)
- [ ] 빌드 최적화
- [ ] 앱스토어 스크린샷 준비
- [ ] 배포 체크리스트 완료

---

## 예상 일정
- **총 기간**: 약 19-26일
- **Phase 1**: 2-3일
- **Phase 2**: 3-4일
- **Phase 3**: 4-5일
- **Phase 4**: 5-7일
- **Phase 5**: 3-4일
- **Phase 6**: 2-3일

## 우선순위
1. **필수**: Phase 1, 2 (기본 구조 및 PGN 리뷰)
2. **중요**: Phase 3 (퍼즐 모드)
3. **선택**: Phase 4 (AI 대전 - 기술적 난이도 높음)
4. **마무리**: Phase 5, 6 (통합 및 배포)

## 리스크 및 대응 방안
1. **Stockfish 통합 어려움**: 대안으로 간단한 체스 AI 라이브러리 사용
2. **성능 이슈**: 복잡한 기능은 점진적으로 최적화
3. **플랫폼별 차이**: iOS 우선 개발 후 Android 대응
4. **시간 지연**: 핵심 기능 우선 구현, 부가 기능은 추후 업데이트

## 성공 지표
- [ ] 4가지 게임 모드 모두 정상 작동
- [ ] iOS/Android 모두 지원
- [ ] 부드러운 화면 전환 및 애니메이션
- [ ] 직관적인 UI/UX
- [ ] 앱 크기 50MB 이하
- [ ] 60fps 유지